@page "/Register"
@using Tareaa4.Models

<h3>Registrar Serie/Película/Libro</h3>

<EditForm Model="@mediaItem" OnValidSubmit="HandleValidSubmit">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <div class="form-group">
        <label for="name">Nombre:</label>
        <InputText id="name" class="form-control" @bind-Value="mediaItem.Name" />
        <ValidationMessage For="@(() => mediaItem.Name)" />
    </div>

    <div class="form-group">
        <label for="country">País:</label>
        <InputText id="country" class="form-control" @bind-Value="mediaItem.Country" />
        <ValidationMessage For="@(() => mediaItem.Country)" />
    </div>

    <div class="form-group">
        <label for="language">Idioma:</label>
        <InputText id="language" class="form-control" @bind-Value="mediaItem.Language" />
        <ValidationMessage For="@(() => mediaItem.Language)" />
    </div>

    <div class="form-group">
        <label for="photoUrl">Foto URL:</label>
        <InputText id="photoUrl" class="form-control" @bind-Value="mediaItem.PhotoUrl" />
        <ValidationMessage For="@(() => mediaItem.PhotoUrl)" />
    </div>

    <div class="form-group">
        <label for="summary">Resumen:</label>
        <InputTextArea id="summary" class="form-control" @bind-Value="mediaItem.Summary" />
        <ValidationMessage For="@(() => mediaItem.Summary)" />
    </div>

    <button type="submit" class="btn btn-primary">Guardar</button>
</EditForm>

@if (isSubmitted)
{
    <div class="alert alert-success mt-3">
        El registro ha sido exitoso.
    </div>
}

@code {
    private MediaItem mediaItem = new MediaItem();  // Crear un nuevo MediaItem
    private bool isSubmitted = false;  // Controlar si se ha enviado el formulario

    private async Task HandleValidSubmit()
    {
        // Aquí puedes realizar la lógica para guardar los datos, ya sea en una base de datos
        // o en cualquier otro almacenamiento. En este ejemplo solo simula el éxito.
        isSubmitted = true;
    }
}
